"use strict";var Z=(N,L,d)=>new Promise((l,R)=>{var f=_=>{try{b(d.next(_))}catch(x){R(x)}},c=_=>{try{b(d.throw(_))}catch(x){R(x)}},b=_=>_.done?l(_.value):Promise.resolve(_.value).then(f,c);b((d=d.apply(N,L)).next())});(self.webpackChunk=self.webpackChunk||[]).push([["node_modules_mermaid_dist_stateDiagram-v2-e65458cd_js"],{"./node_modules/mermaid/dist/stateDiagram-v2-e65458cd.js":function(N,L,d){d.d(L,{diagram:function(){return At}});var l=d("./node_modules/mermaid/dist/styles-b820c189.js"),R=d("./node_modules/dagre-d3-es/src/graphlib/index.js"),f=d("./node_modules/d3/src/index.js"),c=d("./node_modules/mermaid/dist/mermaid-aad43469.js"),b=d("./node_modules/mermaid/dist/index-1e7f2254.js"),_=d("./node_modules/dayjs/dayjs.min.js"),x=d("./node_modules/@braintree/sanitize-url/dist/index.js"),ft=d("./node_modules/dompurify/dist/purify.js"),bt=d("./node_modules/dagre-d3-es/src/dagre/index.js"),pt=d("./node_modules/dagre-d3-es/src/graphlib/json.js");const O="rect",$="rectWithTitle",F="start",q="end",tt="divider",et="roundedWithTitle",st="note",ot="noteGroup",T="statediagram",nt=`${T}-state`,w="transition",it="note",ct=`${w} note-edge`,dt=`${T}-${it}`,rt=`${T}-cluster`,lt=`${T}-cluster-alt`,m="parent",U="note",at="state",v="----",_t=`${v}${U}`,W=`${v}${m}`,k="fill:none",H="fill: #333",K="c",V="text",Y="normal";let M={},E=0;const Et=function(t){const n=Object.keys(t);for(const e of n)t[e]},St=function(t,n){c.l.trace("Extracting classes"),n.db.clear();try{return n.parser.parse(t),n.db.extract(n.db.getRootDocV2()),n.db.getClasses()}catch(e){return e}};function ut(t){return t==null?"":t.classes?t.classes.join(" "):""}function G(t="",n=0,e="",i=v){const r=e!==null&&e.length>0?`${i}${e}`:"";return`${at}-${t}${r}-${n}`}const p=(t,n,e,i,r,a)=>{const s=e.id,y=ut(i[s]);if(s!=="root"){let A=O;e.start===!0&&(A=F),e.start===!1&&(A=q),e.type!==l.D&&(A=e.type),M[s]||(M[s]={id:s,shape:A,description:c.e.sanitizeText(s,(0,c.c)()),classes:`${y} ${nt}`});const o=M[s];e.description&&(Array.isArray(o.description)?(o.shape=$,o.description.push(e.description)):o.description.length>0?(o.shape=$,o.description===s?o.description=[e.description]:o.description=[o.description,e.description]):(o.shape=O,o.description=e.description),o.description=c.e.sanitizeTextOrArray(o.description,(0,c.c)())),o.description.length===1&&o.shape===$&&(o.shape=O),!o.type&&e.doc&&(c.l.info("Setting cluster for ",s,B(e)),o.type="group",o.dir=B(e),o.shape=e.type===l.a?tt:et,o.classes=o.classes+" "+rt+" "+(a?lt:""));const h={labelStyle:"",shape:o.shape,labelText:o.description,classes:o.classes,style:"",id:s,dir:o.dir,domId:G(s,E),type:o.type,padding:15};if(h.centerLabel=!0,e.note){const S={labelStyle:"",shape:st,labelText:e.note.text,classes:dt,style:"",id:s+_t+"-"+E,domId:G(s,E,U),type:o.type,padding:15},u={labelStyle:"",shape:ot,labelText:e.note.text,classes:o.classes,style:"",id:s+W,domId:G(s,E,m),type:"group",padding:0};E++;const g=s+W;t.setNode(g,u),t.setNode(S.id,S),t.setNode(s,h),t.setParent(s,g),t.setParent(S.id,g);let D=s,C=S.id;e.note.position==="left of"&&(D=S.id,C=s),t.setEdge(D,C,{arrowhead:"none",arrowType:"",style:k,labelStyle:"",classes:ct,arrowheadStyle:H,labelpos:K,labelType:V,thickness:Y})}else t.setNode(s,h)}n&&n.id!=="root"&&(c.l.trace("Setting node ",s," to be child of its parent ",n.id),t.setParent(s,n.id)),e.doc&&(c.l.trace("Adding nodes children "),Dt(t,e,e.doc,i,r,!a))},Dt=(t,n,e,i,r,a)=>{c.l.trace("items",e),e.forEach(s=>{switch(s.stmt){case l.b:p(t,n,s,i,r,a);break;case l.D:p(t,n,s,i,r,a);break;case l.S:{p(t,n,s.state1,i,r,a),p(t,n,s.state2,i,r,a);const y={id:"edge"+E,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:k,labelStyle:"",label:c.e.sanitizeText(s.description,(0,c.c)()),arrowheadStyle:H,labelpos:K,labelType:V,thickness:Y,classes:w};t.setEdge(s.state1.id,s.state2.id,y,E),E++}break}})},B=(t,n=l.c)=>{let e=n;if(t.doc)for(let i=0;i<t.doc.length;i++){const r=t.doc[i];r.stmt==="dir"&&(e=r.value)}return e},Tt={setConf:Et,getClasses:St,draw:function(t,n,e,i){return Z(this,null,function*(){c.l.info("Drawing state diagram (v2)",n),M={},i.db.getDirection();const{securityLevel:r,state:a}=(0,c.c)(),s=a.nodeSpacing||50,y=a.rankSpacing||50;c.l.info(i.db.getRootDocV2()),i.db.extract(i.db.getRootDocV2()),c.l.info(i.db.getRootDocV2());const A=i.db.getStates(),o=new R.k({multigraph:!0,compound:!0}).setGraph({rankdir:B(i.db.getRootDocV2()),nodesep:s,ranksep:y,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});p(o,void 0,i.db.getRootDocV2(),A,i.db,!0);let h;r==="sandbox"&&(h=(0,f.Ys)("#i"+n));const S=r==="sandbox"?(0,f.Ys)(h.nodes()[0].contentDocument.body):(0,f.Ys)("body"),u=S.select(`[id="${n}"]`),g=S.select("#"+n+" g");yield(0,b.r)(g,o,["barb"],T,n);const D=8;c.u.insertTitle(u,"statediagramTitleText",a.titleTopMargin,i.db.getDiagramTitle());const C=u.node().getBBox(),z=C.width+D*2,I=C.height+D*2;u.attr("class",T);const J=u.node().getBBox();(0,c.i)(u,I,z,a.useMaxWidth);const Q=`${J.x-D} ${J.y-D} ${z} ${I}`;c.l.debug(`viewBox ${Q}`),u.attr("viewBox",Q);const ht=document.querySelectorAll('[id="'+n+'"] .edgeLabel .label');for(const j of ht){const X=j.getBBox(),P=document.createElementNS("http://www.w3.org/2000/svg",O);P.setAttribute("rx",0),P.setAttribute("ry",0),P.setAttribute("width",X.width),P.setAttribute("height",X.height),j.insertBefore(P,j.firstChild)}})}},At={parser:l.p,db:l.d,renderer:Tt,styles:l.s,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,l.d.clear()}}}}]);
